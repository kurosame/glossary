## category

react

## titles

React Server Components
RSC

## description

現在（2021-01-17）開発中の機能

React Server Components はサーバーサイドのみで実行される  
サーバーサイドでのレンダリング結果を JSON シリアライズして、クライアントへ返せる  
一部のコンポーネントはサーバ側でレンダリングし、それ以外はクライアント側でレンダリングするみたいな世界観

拡張子`.server.jsx`はサーバーサイドでレンダリングされるが、そのファイル内で`.client.jsx`拡張子のクライアントサイドのコンポーネントを import することができる  
ただし、クライアントコンポーネントはサーバサイドコンポーネントを import できない  
（Node.js の API などブラウザで機能しないコードを含んでいる可能性があるため）  
よって、クライアントコンポーネントは props 経由でサーバサイドコンポーネントがレンダリングした React Element を受け取れる（JSON シリアライズしてクライアントに渡す）

### RSC のメリット

- サーバーサイドでレンダリングするので、クライアントのバンドルサイズは軽くなる
  - サードパーティパッケージをバンドルファイルに含める必要がないから
- DB、GraphQL エンドポイント、ファイルシステムなどのサーバーサイドのリソースに直接アクセスできる
  - サーバー側で API の実装が不要になるケースもある
  - コンポーネントのレンダリングも速くなる

### SSR との違い

- RSC
  - クライアントは React Element で受け取る
- SSR
  - クライアントは HTML で受け取る
